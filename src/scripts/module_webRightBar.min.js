!(function (o, r) {
  "object" == typeof exports && "object" == typeof module
    ? (module.exports = r())
    : "function" == typeof define && define.amd
    ? define("__JZ_UMD__", [], r)
    : "object" == typeof exports
    ? (exports.__JZ_UMD__ = r())
    : ((o.__JZ_UMD__ = o.__JZ_UMD__ || {}),
      (o.__JZ_UMD__["libs/module_webRightBar"] = r()));
})(this, function () {
  return (
    (Site.webRightBar = {}),
    (function (o, r) {
      var i,
        e = window._manageMode,
        a = o("#J_WebRightBar .fk-rbar"),
        t = o("#J_WebRightBar .fk-rbar .fk-rbar-plugins"),
        s = a.width(),
        l = !1,
        c = o("#memberLoginPanel"),
        n = 0,
        p = "￥",
        d =
          Fai.top.$(".floatLeftTop")[0].getBoundingClientRect().top -
          (o("#memberBarArea").is(":visible")
            ? o("#memberBarArea").outerHeight(!0)
            : 0);
      function f() {
        var r = a.height();
        if (r < 600)
          o("#J_fk-rbar-edit").css("top", "30px"),
            o(".fk-rbar-tabs").css("padding-top", "60px"),
            o("#J_rbarBottomPart").hide();
        else if (r < 900) {
          o("#J_rbarBottomPart").show();
          var i = parseInt(r - 674);
          i < 60 && (i = 60),
            o("#J_fk-rbar-edit").css("top", "30px"),
            o(".fk-rbar-tabs").css("padding-top", i + "px");
          var t = parseInt(r - 616);
          t < 81 && (t = 81),
            e && (t += d),
            o("#J_rbarBottomPart").css("bottom", t + "px");
        } else {
          o("#J_rbarBottomPart").show(),
            o("#J_fk-rbar-edit").css("top", "150px"),
            o(".fk-rbar-tabs").css("padding-top", "226px");
          var s = 284;
          e && (s += d), o("#J_rbarBottomPart").css("bottom", s + "px");
        }
        c.is(":visible") &&
          (c.fadeOut("fast"), Fai.top.$("body .fk-rightBarMask").remove());
      }
      function b(r) {
        u();
        var i,
          a = o("#memberLoginPanel");
        if (
          (Fai.top.$("body").append("<div class='fk-rightBarMask'></div>"),
          Fai.top
            .$("body .fk-rightBarMask")
            .css("height", o("#web").height() + "px"),
          Fai.top.$("body .fk-rightBarMask").live("click", function () {
            a.fadeOut("slow"), Fai.top.$("body .fk-rightBarMask").remove();
          }),
          e || o.cookie("rbarOpenDataType", r, { expires: 1, path: "/" }),
          1 == r
            ? (i = o("#rbar_myProfile").position().top)
            : 2 == r
            ? (i = o("#rbar_collect").position().top)
            : 3 == r && (i = o("#rbar_cart").position().top),
          (i -= 2),
          (i += "px"),
          a.css("top") != i)
        )
          a.css("top", i), a.is(":visible") || a.fadeIn("slow");
        else {
          if (a.is(":visible")) return void a.fadeOut("slow");
          a.fadeIn("slow");
        }
      }
      function u() {
        a.width() != s &&
          (Fai.top.$("body .fk-rightBarMask").die("click"),
          Fai.top.$("body .fk-rightBarMask").remove(),
          a.animate({ width: s }, 300, function () {
            t.css({ visibility: "hidden" });
          }),
          o("#pluginsProfileBody").empty(),
          o("#pluginsCollectBody").empty(),
          o("#pluginsCartBody").empty(),
          (n = 0));
      }
      function h(r) {
        if (n != r) {
          0 == n
            ? ((function () {
                var r = [],
                  e = Site.preprocessUrl({ path: "", oldPath: "" });
                if (
                  (r.push("<div class='fk-rbar-profileItemList'>"),
                  r.push(
                    "<a href='" +
                      e +
                      "mCenter.jsp' alt='" +
                      LS.rbarMemberEdit +
                      "' title='" +
                      LS.rbarMemberEdit +
                      "'>"
                  ),
                  r.push("<div class='fk-rbar-plugItemHead'>"),
                  r.push("<div class='fk-rbar-profilePhoto'>"),
                  "imgPath" in i || (i.imgPath = ""),
                  "imgStyle" in i || (i.imgStyle = ""),
                  r.push(
                    "<img src='" +
                      i.imgPath +
                      "' alt='' style='" +
                      i.imgStyle +
                      "'/>"
                  ),
                  r.push("</div>"),
                  r.push("<div class='fk-rbar-profileDetail'>"),
                  r.push(
                    "<div class='fk-rbar-profileName'>" + i.acct + "</div>"
                  ),
                  r.push(
                    "<div class='fk-rbar-profileLevel'>" + i.name + "</div>"
                  ),
                  i.isItgOpen &&
                    ("currentIgt" in i || (i.currentIgt = 0),
                    r.push(
                      "<div>" + i.integralName + ":" + i.currentIgt + "</div>"
                    )),
                  r.push("</div>"),
                  r.push("</div>"),
                  r.push("</a>"),
                  r.push(
                    "<div class='profile-separator profile-separatorColor1'></div>"
                  ),
                  "mbPropList" in i)
                ) {
                  for (var a = i.mbPropList, t = [], s = 0; s < a.length; s++)
                    s < 4
                      ? (r.push("<div class='fk-rbar-plugItem'>"),
                        r.push(
                          "<div class='fk-rbar-item'>" + a[s].name + "</div>"
                        ),
                        r.push(
                          "<div class='fk-rbar-item'>" + a[s].value + "</div>"
                        ),
                        r.push("</div>"),
                        s == a.length - 1 || 3 == s
                          ? r.push(
                              "<div class='profile-separator profile-separatorColor1 J_lastSeparator'></div>"
                            )
                          : r.push(
                              "<div class='profile-separator profile-separatorColor2'></div>"
                            ))
                      : (t.push("<div class='fk-rbar-plugItem'>"),
                        t.push(
                          "<div class='fk-rbar-item'>" + a[s].name + "</div>"
                        ),
                        t.push(
                          "<div class='fk-rbar-item'>" + a[s].value + "</div>"
                        ),
                        t.push("</div>"),
                        s == a.length - 1
                          ? t.push(
                              "<div class='profile-separator profile-separatorColor1'></div>"
                            )
                          : t.push(
                              "<div class='profile-separator profile-separatorColor2'></div>"
                            ));
                  a.length > 4 &&
                    (r.push("<div class='fk-rbar-hiddenItem'>"),
                    o.merge(r, t),
                    r.push("</div>"),
                    r.push(
                      "<div class='fk-rbar-moreItem' id='moreProfileItem'>"
                    ),
                    r.push(
                      "<div class='fk-rbar-moreIcon J_showMoreIcon'></div>"
                    ),
                    r.push("</div>"));
                }
                r.push("</div>"),
                  r.push(
                    "<div class='fk-rbar-profileFoot' id='pluginsProfileFoot'>"
                  ),
                  r.push(
                    "<div class='fk-rbar-logoutButton'>" +
                      LS.rbarLogout +
                      "</div>"
                  ),
                  r.push("</div>"),
                  o("#pluginsProfileBody").append(r.join(""));
              })(),
              (function () {
                "productCollections" in i || (i.productCollections = []);
                var r = i.productCollections;
                e || 0 == r.length
                  ? k([])
                  : o.ajax({
                      url:
                        Site.addRequestPrefix({
                          newPath: "/ajax",
                          oldPath: "ajax",
                        }) + "/product_h.jsp",
                      data: {
                        cmd: "getWafNotCk_batchGetPd",
                        ids: o.toJSON(r),
                        sortName: "name",
                      },
                      type: "POST",
                      dataType: "json",
                      success: function (o) {
                        o.success && k(o.list);
                      },
                    });
              })(),
              Fai.isIE6() ||
                (o("#pluginsProfileBody").css({ position: "absolute" }),
                o("#pluginsCollectBody").css({ position: "absolute" }),
                o("#pluginsCartBody").css({ position: "absolute" })),
              o("#pluginsProfileBody").css({ opacity: "0", display: "none" }),
              o("#pluginsCollectBody").css({ opacity: "0", display: "none" }),
              o("#pluginsCartBody").css({ opacity: "0", display: "none" }))
            : 1 == n
            ? o("#pluginsProfileBody").animate(
                { left: "100px", top: "100px", opacity: "0" },
                "fast",
                function () {
                  o("#pluginsProfileBody").hide();
                }
              )
            : 2 == n
            ? o("#pluginsCollectBody").animate(
                { left: "100px", top: "100px", opacity: "0" },
                "fast",
                function () {
                  o("#pluginsCollectBody").hide();
                }
              )
            : 3 == n &&
              o("#pluginsCartBody").animate(
                { left: "100px", top: "100px", opacity: "0" },
                "fast",
                function () {
                  o("#pluginsCartBody").hide();
                }
              );
          var l = 251,
            c = "0";
          Fai.isIE6() && (c = "38px"),
            3 == r
              ? ((l = 279),
                o("#pluginsCartBody").css({
                  left: "279px",
                  top: c,
                  bottom: "0",
                }))
              : 2 == r
              ? o("#pluginsCollectBody").css({
                  left: "251px",
                  top: c,
                  bottom: "0",
                })
              : 1 == r &&
                o("#pluginsProfileBody").css({
                  left: "251px",
                  top: c,
                  bottom: "0",
                }),
            t.css({ visibility: "visible" }),
            a.animate({ width: l + s }, { queue: !1, duration: 300 }),
            0 == n &&
              (Fai.top.$("body").append("<div class='fk-rightBarMask'></div>"),
              Fai.top.$("body .fk-rightBarMask").live("click", function () {
                u();
              })),
            1 == r
              ? (o("#pluginsProfileBody").show(),
                o("#pluginsProfileBody").animate(
                  { left: "0", opacity: "1" },
                  { queue: !0, duration: 300 }
                ))
              : 2 == r
              ? (o("#pluginsCollectBody").show(),
                o("#pluginsCollectBody").animate(
                  { left: "0", opacity: "1" },
                  { queue: !0, duration: 300 }
                ))
              : 3 == r &&
                (o("#pluginsCartBody").show(),
                o("#pluginsCartBody").animate(
                  { left: "0", opacity: "1" },
                  { queue: !0, duration: 300 }
                )),
            (n = r);
        } else u();
      }
      (r.init = function (s, n, p, m) {
        if (
          ((l = s),
          (this.choiceCurrencyVal = p),
          (i = m),
          f(),
          e
            ? (a.css({ top: d + "px", visibility: "visible" }),
              t.css({ visibility: "hidden" }),
              a.animate({ right: 0 }, { queue: !1, duration: 500 }))
            : 6 == Fai.getBrowserType()
            ? a.css({ top: 0, right: 0 })
            : a.animate({ right: 0 }),
          e &&
            (Fai.top._newTool
              ? jzManage.siteToolbar.bind({
                  target: "#J_WebRightBarList",
                  _designMode: _designAuth,
                  name: "webRightBar",
                  type: "system",
                })
              : (o("#J_WebRightBarList").hover(
                  function () {
                    o(this).css("border", "1px dashed #71b0e8"),
                      o(".fk-rbar").css("border", "1px dashed #71b0e8"),
                      o("#J_fk-rbar-edit").show();
                  },
                  function () {
                    o(this).css("border", "1px solid #202020"),
                      o(".fk-rbar").css("border", "1px solid #202020"),
                      o("#J_fk-rbar-edit").hide();
                  }
                ),
                o("#J_fk-rbar-edit a").hover(
                  function () {
                    o(this).css("text-decoration", "underline");
                  },
                  function () {
                    o(this).css("text-decoration", "none");
                  }
                ),
                o("#J_fk-rbar-edit .hide").click(function () {
                  Site.undoRun(r.switchBar, {
                    type: "sideBar",
                    detail: "sideBarHide",
                    doArgs: [!1],
                    undoArgs: [!0],
                  }),
                    Fai.ing("您可以从“设置”-“基础设置”中重新开启。", !0);
                }))),
          o("#rbar_myProfile").click(function () {
            Fai.top.location.href.indexOf("mCenter") > 0 ||
              (l
                ? (o("#rightSideBarTitle").html(LS.js_rbarProfile),
                  o(".fk-rbar-plugins").css("background-color", "#3c3c3c"),
                  h(1))
                : b(1));
          }),
          o("#rbar_myProfile").hover(
            function () {
              (c.is(":visible") && "224px" == c.css("top")) ||
                (o("#J_rbarProfileTip").show(),
                o("#J_rbarProfileTip").animate(
                  { opacity: "1", right: "34px" },
                  { queue: !1, duration: 400 }
                )),
                o("#rbar_myProfile").css("background-color", "#c40000"),
                Fai.isIE6() &&
                  o("#rbarProfileIcon")
                    .removeClass("fk-rbar-profileItem-logo1")
                    .addClass("fk-rbar-profileItem-logo1-hover");
            },
            function () {
              o("#J_rbarProfileTip").is(":visible") &&
                (o("#J_rbarProfileTip").animate(
                  { opacity: "0", right: "60px" },
                  { queue: !1, duration: 200 }
                ),
                o("#J_rbarProfileTip").hide()),
                o("#rbar_myProfile").css("background-color", "#202020"),
                Fai.isIE6() &&
                  o("#rbarProfileIcon")
                    .removeClass("fk-rbar-profileItem-logo1-hover")
                    .addClass("fk-rbar-profileItem-logo1");
            }
          ),
          o("#moreProfileItem").live("click", function () {
            o(".J_lastSeparator")
              .removeClass("profile-separatorColor1")
              .addClass("profile-separatorColor2"),
              o(".fk-rbar-hiddenItem").slideToggle("slow"),
              o(".J_showMoreIcon").hasClass("fk-rbar-moreIcon")
                ? o(".J_showMoreIcon")
                    .removeClass("fk-rbar-moreIcon")
                    .addClass("fk-rbar-lessIcon")
                : o(".J_showMoreIcon")
                    .removeClass("fk-rbar-lessIcon")
                    .addClass("fk-rbar-moreIcon");
          }),
          o("#rbar_collect").click(function () {
            Fai.top.location.href.indexOf("mCenter") > 0 ||
              (l
                ? (o("#rightSideBarTitle").html(LS.js_rbarCollect),
                  o(".fk-rbar-plugins").css("background-color", "#E6E6E6"),
                  h(2))
                : b(2));
          }),
          o("#rbar_collect").hover(
            function () {
              o("#J_rbarCollectTip").show(),
                o("#J_rbarCollectTip").animate(
                  { opacity: "1", right: "34px" },
                  { queue: !1, duration: 400 }
                ),
                o("#rbar_collect").css("background-color", "#c40000"),
                Fai.isIE6() &&
                  o("#rbarCollectIcon")
                    .removeClass("fk-rbar-collectItem-logo")
                    .addClass("fk-rbar-collectItem-logo-hover");
            },
            function () {
              o("#J_rbarCollectTip").animate(
                { opacity: "0", right: "60px" },
                { queue: !1, duration: 200 }
              ),
                o("#J_rbarCollectTip").hide(),
                o("#rbar_collect").css("background-color", "#202020"),
                Fai.isIE6() &&
                  o("#rbarCollectIcon")
                    .removeClass("fk-rbar-collectItem-logo-hover")
                    .addClass("fk-rbar-collectItem-logo");
            }
          ),
          o("#rbar_feedBack").hover(
            function () {
              o("#J_rbarFeedbackTip").show(),
                o("#J_rbarFeedbackTip").animate(
                  { opacity: "1", right: "34px" },
                  { queue: !1, duration: 400 }
                ),
                o("#rbar_feedBack").css("background-color", "#c40000"),
                Fai.isIE6() &&
                  o("#rbarFeedbackIcon")
                    .removeClass("fk-rbar-feedBackItem-logo")
                    .addClass("fk-rbar-feedBackItem-logo-hover");
            },
            function () {
              o("#J_rbarFeedbackTip").animate(
                { opacity: "0", right: "60px" },
                { queue: !1, duration: 200 }
              ),
                o("#J_rbarFeedbackTip").hide(),
                o("#rbar_feedBack").css("background-color", "#202020"),
                Fai.isIE6() &&
                  o("#rbarFeedbackIcon")
                    .removeClass("fk-rbar-feedBackItem-logo-hover")
                    .addClass("fk-rbar-feedBackItem-logo");
            }
          ),
          o("#rbar_feedBack").click(function () {
            Fai.top.location.href.indexOf("msgBoard") < 0 &&
              (Fai.top.location.href =
                Site.preprocessUrl({ path: "", oldPath: "" }) + "msgBoard.jsp");
          }),
          (function () {
            for (
              var r = function (r) {
                  o("#rbar_myItem".concat(r)).live("mouseover", function () {
                    o("#J_rbarmyItem".concat(r)).show(),
                      o("#J_rbarmyItem".concat(r)).animate(
                        { opacity: "1", right: "34px" },
                        { queue: !1, duration: 400 }
                      ),
                      o("#rbar_myItem".concat(r)).css(
                        "background-color",
                        "#c40000"
                      ),
                      o("#fk-rbar-myItem-ImgShow-myItem".concat(r)).show(),
                      (function (r) {
                        if (0 != o(r).length) {
                          var i = o(r)[0].getBoundingClientRect().top,
                            e = o(r).height();
                          i < -10 &&
                            (o(r).css("top", "-" + (e - 42 + i) + "px"),
                            o(r).css("z-index", "9032"),
                            o(r).find(".fk-qr-triangle").css("z-index", "9032"),
                            o(r)
                              .find(".fk-qr-triangle")
                              .css("bottom", 0 - i - 2 + "px"));
                        }
                      })(o("#fk-rbar-myItem-ImgShow-myItem".concat(r)));
                  }),
                    o("#rbar_myItem".concat(r)).live("mouseout", function () {
                      o("#J_rbarmyItem".concat(r)).animate(
                        { opacity: "0", right: "60px" },
                        { queue: !1, duration: 200 }
                      ),
                        o("#J_rbarmyItem".concat(r)).hide(),
                        o("#rbar_myItem".concat(r)).css(
                          "background-color",
                          "#202020"
                        ),
                        o("#fk-rbar-myItem-ImgShow-myItem".concat(r)).hide();
                    });
                },
                i = 0;
              i <= 9;
              i++
            )
              r(i);
          })(),
          (Fai.isIE6() || Fai.isIE7() || Fai.isIE8()) &&
            o("#J_WebRightBar #qrImgPanel").css("border", "1px solid #ddd"),
          o("#rbar_mobi").hover(
            function () {
              o("#rbar_mobi").css("background-color", "#c40000"),
                Fai.isIE6() &&
                  o("#rbarMobiIcon")
                    .removeClass("fk-rbar-mobiItem-logo")
                    .addClass("fk-rbar-mobiItem-logo-hover"),
                o("#qrImgPanel").show();
            },
            function () {
              o("#rbar_mobi").css("background-color", "#202020"),
                Fai.isIE6() &&
                  o("#rbarMobiIcon")
                    .removeClass("fk-rbar-mobiItem-logo-hover")
                    .addClass("fk-rbar-mobiItem-logo"),
                o("#qrImgPanel").hide();
            }
          ),
          (function () {
            if (o("#rbar_onlineSer").length > 0) {
              var r = o("#onlineSerList"),
                i = r.find(".fk-qr-triangle"),
                e = o(".floatRightTop"),
                a = o("#J_webRightBar_SerList").children(),
                t = a.eq(0).height(),
                s = a.length,
                l = 0,
                c = 0;
              r.show(),
                (l = r.offset().top),
                r.hide(),
                !0 === Fai.top._manageMode && (l -= e.position().top),
                l < 0 &&
                  s > 2 &&
                  (c = Math.ceil(Math.abs(l) / t)) > 0 &&
                  c <= s - 2 &&
                  (r.css("bottom", "-=" + c * t),
                  i.css("bottom", "+=" + c * t)),
                o("#rbar_onlineSer").hover(
                  function () {
                    o("#rbar_onlineSer").css("background-color", "#c40000"),
                      Fai.isIE6() &&
                        o("#rbarMobiIcon")
                          .removeClass("fk-rbar-mobiItem-logo")
                          .addClass("fk-rbar-mobiItem-logo-hover"),
                      o("#onlineSerList").show();
                  },
                  function () {
                    o("#rbar_onlineSer").css("background-color", "#202020"),
                      Fai.isIE6() &&
                        o("#rbarMobiIcon")
                          .removeClass("fk-rbar-mobiItem-logo-hover")
                          .addClass("fk-rbar-mobiItem-logo"),
                      o("#onlineSerList").hide();
                  }
                ),
                o(".fk-rbar-serOnline-list-v").hover(
                  function () {
                    o(this).css("background-color", "#f1f1f1");
                  },
                  function () {
                    o(this).css("background-color", "");
                  }
                );
            }
          })(),
          o("#rbar_backTop").hover(
            function () {
              o("#J_rbarBackTopTip").show(),
                o("#J_rbarBackTopTip").animate(
                  { opacity: "1", right: "34px" },
                  { queue: !1, duration: 400 }
                ),
                o("#rbar_backTop").css("background-color", "#c40000"),
                Fai.isIE6() &&
                  o("#rbarBackTopIcon")
                    .removeClass("fk-rbar-backTop-logo")
                    .addClass("fk-rbar-backTop-logo-hover");
            },
            function () {
              o("#J_rbarBackTopTip").animate(
                { opacity: "0", right: "60px" },
                { queue: !1, duration: 200 }
              ),
                o("#J_rbarBackTopTip").hide(),
                o("#rbar_backTop").css("background-color", "#202020"),
                Fai.isIE6() &&
                  o("#rbarBackTopIcon")
                    .removeClass("fk-rbar-backTop-logo-hover")
                    .addClass("fk-rbar-backTop-logo");
            }
          ),
          o("#rbar_backTop").click(function () {
            var r = Fai.top.$(window);
            e || (r = o(window));
            var i = r.scrollTop(),
              a = 300;
            i <= 5e3
              ? (a = 200)
              : i > 5e3 && i <= 1e4
              ? (a = 100)
              : i > 1e4 && (a = 50),
              (function t(o) {
                var i = "",
                  e = 0;
                (i = r.scrollTop()),
                  (e = Math.floor((10 * -i) / o)),
                  r.scrollTop(i + e),
                  i > 0 &&
                    setTimeout(function () {
                      t(o);
                    }, 1);
              })(a),
              u();
          }),
          o("#rightSideBarBack").click(u),
          l ||
            (function () {
              if (
                ((Fai.isIE6() || Fai.isIE7() || Fai.isIE8()) &&
                  o("#J_WebRightBar #memberLoginPanel").css(
                    "border",
                    "1px solid #ddd"
                  ),
                !("placeholder" in document.createElement("input")))
              ) {
                var r = o("#J_WebRightBar").find(".J_memberLoginItem");
                o.each(r, function (r, i) {
                  var e = o(i).find("span"),
                    a = 50,
                    t = o(e).height(),
                    s = o(i).position().top + (Fai.isIE6() ? 2 : 0),
                    l = o(i).position().left + 25;
                  o(e).css({
                    top: s + "px",
                    left: l + "px",
                    "line-height": t + "px",
                    padding: "0px 0px 0px 4px",
                    width: a + "px",
                  }),
                    o(i).find("input").val().length > 0 && o(e).hide();
                });
              }
              o("#J_WebRightBar .J_loginButton").on("click", function () {
                var o = window._extendParam;
                if (Fai.top.isJuly3FreeUser)
                  return (
                    Site.logDog(200964, 1), void Fai.ing("免费版暂不支持此功能")
                  );
                e
                  ? Fai.ing(
                      "您目前处于网站管理状态，请先点击网站右上方的“退出”后再登录会员。"
                    )
                  : Site.memberLogin3(o);
              }),
                o("#J_WebRightBar .J_fastLoginButton").on("click", function () {
                  var o = window._extendParam;
                  e
                    ? Fai.ing(
                        "您目前处于网站管理状态，请先点击网站右上方的“退出”后再登录会员。"
                      )
                    : Site.fastLogin2(o);
                });
            })(),
          o("#pluginsProfileFoot").live("click", function () {
            Site.onLogout();
          }),
          o("#pluginsCollectFoot").live("click", function () {
            Fai.top.location.href =
              Site.getHtmlUrl("mCenter") + "?item=memberCollection";
          }),
          o("#pluginsCartFoot").live("click", function () {
            Fai.top.location.href = Site.getHtmlUrl("mcart");
          }),
          o(window).resize(function () {
            f();
          }),
          !e)
        ) {
          var g = o.cookie("rbarOpenDataType", { path: "/" });
          g &&
            (l &&
              ("1" == g
                ? o("#rbar_myProfile").click()
                : "2" == g
                ? o("#rbar_collect").click()
                : "3" == g && o("#rbar_cart").click()),
            o.cookie("rbarOpenDataType", null, { expires: 0, path: "/" }));
        }
      }),
        (r.resizeItem = f),
        (r.switchBar = function (o) {
          o
            ? Fai.top.$("#J_WebRightBar").show()
            : Fai.top.$("#J_WebRightBar").hide(),
            (top._Global._webRightBar = o),
            top._webRightBarChanged++,
            Site.styleChanged(),
            Site.setRefreshInfo("siteSetting", !0),
            Site.resetPlayBtnPosition();
        });
      var m = [];
      function g(r) {
        var i,
          e = !1;
        return (
          o.each(m, function (o, a) {
            r == a.lid && ((e = !0), (i = a));
          }),
          e ||
            (i = (function (r) {
              var i = { lid: r };
              return (
                o.ajax({
                  url:
                    Site.addRequestPrefix({
                      newPath: "/ajax",
                      oldPath: "ajax",
                    }) +
                    "/productProp_h.jsp?cmd=getWafNotCk_list&lid=" +
                    r,
                  async: !1,
                  type: "POST",
                  dataType: "json",
                  success: function (r) {
                    if (r.success) {
                      var e = !1;
                      o.each(r.list, function (o, r) {
                        if ("mallPrice" == r.fieldKey) return (e = !0), !1;
                      }),
                        (i.showPrice = e),
                        m.push(i);
                    }
                  },
                }),
                i
              );
            })(r)),
          i
        );
      }
      function k(r) {
        var i = [],
          e = Site.preprocessUrl({ path: "", oldPath: "" });
        if ((i.push("<div class='fk-rbar-collectList'>"), 0 == r.length))
          i.push("<div class='fk-rbar-noCollectIcon'></div>"),
            i.push(
              "<div class='fk-rbar-noCollectionTips'>" +
                LS.rbarEmptyCollect +
                "</div>"
            );
        else
          for (var a = 0; a < r.length; a++) {
            var t = r[a],
              s = g(t.lid);
            if (
              (i.push("<div class='fk-rbar-collectListItem'>"),
              i.push("<a href='" + e + "pd.jsp?id=" + t.id + "'>"),
              i.push(
                "<img class='fk-rbar-collectImg' src='" +
                  t.picPath +
                  "' alt=''/>"
              ),
              i.push("</a>"),
              i.push("<div class='fk-rbar-collectName'>" + t.name + "</div>"),
              s.showPrice &&
                i.push(
                  "<div class='fk-rbar-collectPrice'>" +
                    p +
                    t.mallPrice +
                    "</div>"
                ),
              i.push("</div>"),
              9 == a)
            )
              break;
          }
        i.push("</div>"),
          i.push("<div class='fk-rbar-collectFoot' id='pluginsCollectFoot'>"),
          i.push(
            "<div class='fk-rbar-showButton'>" + LS.rbarShowMore + "</div>"
          ),
          i.push("</div>"),
          o("#pluginsCollectBody").append(i.join(""));
      }
    })(jQuery, Site.webRightBar),
    {}
  );
});
